function initDialogControl(e,t,n,o,i,s){var c,r,u,l,h=document.getElementById(e),d=document.getElementById(n);function a(e){h.style.width=u+e.clientX-c+"px",h.style.height=l+e.clientY-r+"px",d.style.width=u+e.clientX-c-i+"px",d.style.height=l+e.clientY-r-s+"px"}function m(e){document.documentElement.removeEventListener("mousemove",a,!1),document.documentElement.removeEventListener("mouseup",m,!1)}document.getElementById(o).addEventListener("mousedown",(function(e){c=e.clientX,r=e.clientY,u=parseInt(document.defaultView.getComputedStyle(h).width,10),l=parseInt(document.defaultView.getComputedStyle(h).height,10),document.documentElement.addEventListener("mousemove",a,!1),document.documentElement.addEventListener("mouseup",m,!1)}),!1),function(e){var n=0,o=0,i=0,s=0;document.getElementById(t)?document.getElementById(t).onmousedown=c:e.onmousedown=c;function c(e){(e=e||window.event).preventDefault(),i=e.clientX,s=e.clientY,document.onmouseup=u,document.onmousemove=r}function r(t){(t=t||window.event).preventDefault(),n=i-t.clientX,o=s-t.clientY,i=t.clientX,s=t.clientY,e.style.top=e.offsetTop-o+"px",e.style.left=e.offsetLeft-n+"px"}function u(){document.onmouseup=null,document.onmousemove=null}}(h)}function initDialogControlSnap(e,t,n,o,i,s){var c,r,u,l,h,d,a,m,f,p=10,g=10,y=4,v=null,x=!1,w=document.getElementById(e),E=document.getElementById(o),b=document.getElementById(n);function R(e,t,n,o,i){e.style.left=t+"px",e.style.top=n+"px",e.style.width=o+"px",e.style.height=i+"px"}function C(){R(E,d.left,d.top,d.width,d.height),E.style.opacity=0}function T(e){L(e);var t=c||r||l||u;v={x:a,y:m,cx:e.clientX,cy:e.clientY,w:d.width,h:d.height,isResizing:t,isMoving:!t&&B(),onTopEdge:l,onLeftEdge:u,onRightEdge:c,onBottomEdge:r}}function B(){return a>0&&a<d.width&&m>0&&m<d.height&&m<30}function L(e){d=w.getBoundingClientRect(),a=e.clientX-d.left,m=e.clientY-d.top,l=m<y,u=a<y,c=a>=d.width-y,r=m>=d.height-y,window.innerWidth-y,window.innerHeight-y}function I(e){L(e),f=e,x=!0}function A(e){if(L(e),v&&v.isMoving){d.width,d.height;C()}v=null}w.addEventListener("mousedown",(function(e){T(e),e.preventDefault()})),document.addEventListener("mousemove",I),document.addEventListener("mouseup",A),w.addEventListener("touchstart",(function(e){T(e.touches[0]),e.preventDefault()})),document.addEventListener("touchmove",(function(e){I(e.touches[0])})),document.addEventListener("touchend",(function(e){0===e.touches.length&&A(e.changedTouches[0])})),function e(){if(requestAnimationFrame(e),x)if(x=!1,v&&v.isResizing){if(v.onRightEdge&&(w.style.width=Math.max(a,p)+"px",b.style.width=Math.max(a-i,p)+"px"),v.onBottomEdge&&(w.style.height=Math.max(m,g)+"px",b.style.height=Math.max(m-s,g)+"px"),v.onLeftEdge){var t=Math.max(v.cx-f.clientX+v.w,p);t>p&&(w.style.width=t+"px",w.style.left=f.clientX+"px",b.style.width=t-i+"px",b.style.left=f.clientX+"px")}if(v.onTopEdge){var n=Math.max(v.cy-f.clientY+v.h,g);n>g&&(w.style.height=n+"px",w.style.top=f.clientY+"px",b.style.height=n-s+"px",b.style.top=f.clientY+"px")}C()}else{if(v&&v.isMoving)return h?void R(w,f.clientX-h.width/2,f.clientY-Math.min(v.y,h.height),h.width,h.height):(w.style.top=f.clientY-v.y+"px",w.style.left=f.clientX-v.x+"px",b.style.top=f.clientY-v.y+"px",void(b.style.left=f.clientX-v.x+"px"));c&&r||u&&l?w.style.cursor="nwse-resize":c&&l||r&&u?w.style.cursor="nesw-resize":c||u?w.style.cursor="ew-resize":r||l?w.style.cursor="ns-resize":B()?w.style.cursor="move":w.style.cursor="default"}}()}class AsyncFetch{constructor(){}uploadFile(e,t,n,o,i){let s=new FormData;s.append(t,e),fetch(n,{method:"POST",body:s}).then(this.responseAction).then(o).catch(i)}downloadFile(e,t,n,o){fetch(e,t).then(this.responseAction).then(this.blobResponse).then(n).catch(o)}arrayResponse(e){return e.arrayBuffer()}blobResponse(e){return e.blob()}formResponse(e){return e.formData()}textResponse(e){return e.text()}jsonResponse(e){return e.json()}responseAction(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}generalRequest(e,t,n,o){fetch(e,t).then(this.responseAction).then(n).catch(o)}jsonRequest(e,t,n,o){fetch(e,t).then(this.responseAction).then(this.jsonResponse).then(n).catch(o)}formRequest(e,t,n,o){fetch(e,t).then(this.responseAction).then(this.formResponse).then(n).catch(o)}blobRequest(e,t,n,o){fetch(e,t).then(this.responseAction).then(this.blobResponse).then(n).catch(o)}arrayRequest(e,t,n,o){fetch(e,t).then(this.responseAction).then(this.arrayResponse).then(n).catch(o)}textRequest(e,t,n,o){fetch(e,t).then(this.responseAction).then(this.textResponse).then(n).catch(o)}}function getLocalDate(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return t<10&&(t="0"+t),n<10&&(n="0"+n),e.getFullYear()+"-"+t+"-"+n}function getLocalTime(){var e=new Date;return addZero(e.getHours())+":"+addZero(e.getMinutes())+":"+addZero(e.getSeconds())}function addZero(e){return e<10&&(e="0"+e),e}function getCookie(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}function setCookie(e,t,n){var o=new Date;o.setTime(o.getTime()+864e5*n),document.cookie=e+"="+t+";path=/;expires="+o.toGMTString()}function deleteCookie(e){setCookie(e,"",-1)}function mergeObjects(e,t){let n,o=e||{},i=t||{};for(n in o)o.hasOwnProperty(n)&&(i[n]=o[n]);return i}function detectCapsLock(e,t){var n=document.getElementById(e),o=document.getElementById(t);n.addEventListener("keyup",(function(e){e.getModifierState("CapsLock")?o.style.display="block":o.style.display="none"}))}function copyTextToClipboard(e){var t=document.getElementById(e);return t.select(),t.setSelectionRange(0,99999),document.execCommand("copy")}function getIframeElement(e,t){return document.getElementById(e).contentWindow.document.getElementsByTagName(t)[0]}function summarize(e,t){if(e.length<=t)return e;const n=e.substring(0,t-1);return n.substring(0,n.lastIndexOf(" "))+"..."}function groupArrayByKey(e,t){return e.reduce((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e),{})}function reverseString(e){return e.split("").reverse().join("")}function decToBin(e){return baseConvert(e,10,2)}function binTDec(e){return baseConvert(e,2,10)}function decToHex(e){return baseConvert(e,10,16)}function hexToDec(e){return baseConvert(e,16,10)}function baseConvert(e,t,n){return parseInt(e,t).toString(n)}function asciiToBin(e){if(0!==e.length){for(var t="",n=0;n<e.length;n++)t+=("00000000"+e.charCodeAt(n).toString(2)).slice(-8);return t}}function asciiToHex(e){if(0!==e.length){for(var t="",n=0;n<e.length;n++)t+=("0000"+e.charCodeAt(n).toString(16)).slice(-4);return t}}function hexToAscii(e){if(0!==(e=e.match(/[0-9A-Fa-f]{4}/g)).length){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(parseInt(e[n],16));return t}}function asciiToBase64(e){return btoa(e)}function base64ToAscii(e){return atob(e)}